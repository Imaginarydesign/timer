<h1>Entries <%= link_to 'Add New', new_entry_path, class: "pull-right btn btn-default"  %></h1>

<% if notice %>
<div id="notice" class="alert alert-success" role="alert"><%= notice %></div>
<% end %>

<hr>

<div class="well">
<%= form_for(@entry, :html => {:class => "form-inline"}) do |f| %>

  <div class="form-group">
    <%= f.text_field :name, :class => 'form-control', :placeholder => "Name" %>
  </div>
  <div class="form-group">
    <%= f.text_field :time, :class => 'form-control', :placeholder => "Time" %>
  </div>
  <div class="form-group">
    <%= collection_select(:entry, :employee_id, Employee.all, :id, :name, {:prompt => 'Select Employee'},  {:class=>'form-control'}) %>
  </div>
  <div class="form-group">
    <%= collection_select(:entry, :project_id, Project.all, :id, :name, {:prompt => 'Select Project'}, {:class=>'form-control'}) %>
  </div>
  <%= f.submit class: 'btn btn-primary' %>
<%end %>
</div>

<hr>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Date</th>
      <th>Task name</th>
      <th>Time spent</th>
      <th>Project</th>
      <th>Employee</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @entries.each do |entry| %>
      <tr>
        <td><%= entry.created_at.strftime('%d/%m/%Y') %></td>
        <td><%= entry.name %></td>
        <td><%= entry.time %></td>
        <td><%= entry.project.name %></td>
        <td><%= entry.employee.name %></td>
        <td class="text-right">
          <%= link_to 'Show', entry, class: "btn btn-sm btn-default" %>
          <%= link_to 'Edit', edit_entry_path(entry), class: "btn btn-sm btn-default" %>
          <%= link_to 'Destroy', entry, class: "btn btn-sm btn-default", method: :delete, data: { confirm: 'Are you sure?' } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>


