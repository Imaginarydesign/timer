<%= form_for(@entry, :html => {:class => "form-horizontal"}) do |f| %>

  <% if @entry.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@entry.errors.count, "error") %> prohibited this entry from being saved:</h2>

      <ul>
      <% @entry.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :name, :class => "col-sm-2 control-label" %>
    <div class="col-sm-4">
      <%= f.text_field :name, :class => 'form-control' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :time, :class => "col-sm-2 control-label" %>
    <div class="col-sm-4">
      <%= f.text_field :time, :class => 'form-control' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :employee, :class => "col-sm-2 control-label" %>
    <div class="col-sm-4">
      <%= collection_select(:entry, :employee_id, Employee.all, :id, :name, {}, {:class=>'form-control'}) %>
      <a href="#" data-toggle="modal" data-target="#ModalNewEmployee">+ add new</a>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :project, :class => "col-sm-2 control-label" %>
    <div class="col-sm-4">
      <%= collection_select(:entry, :project_id, Project.all, :id, :name, {}, {:class=>'form-control'}) %>
      <a href="#" data-toggle="modal" data-target="#ModalNewProject">+ add new</a>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <%= f.submit class: 'btn btn-default' %>
    </div>
  </div>
<% end %>

<!-- Modal for new employee -->
<div class="modal fade" id="ModalNewEmployee" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">New employee</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal for new project -->
<div class="modal fade" id="ModalNewProject" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">New project</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
</div>
